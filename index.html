<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>Toggle Table Column Demo</title>
		<script type="text/javascript" src="js/jquery-1.7.2.min.js"></script>
        <script type="text/javascript" src="js/jquery-ui-1.8.18.custom.min.js"></script>  
        <!--[if lt IE 9]><script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
        <script type="text/javascript" src="js/prettify.js"></script>                                   <!-- PRETTIFY -->
        <script type="text/javascript" src="js/kickstart.js"></script>                                  <!-- KICKSTART -->
        <script type="text/javascript" src="js/utility.js"></script>  
        <link rel="stylesheet" type="text/css" href="css/kickstart.css" media="all" />                  <!-- KICKSTART -->
        <link rel="stylesheet" type="text/css" href="css/style.css" media="all" />                      <!-- CUSTOM STYLES -->
        <link rel="stylesheet" type="text/css" href="css/jquery-ui-1.8.18.custom.css" media="all" />
	<script>
	
	</script>
</head>
<body>
<style>

#column{
	position:absolute;
	z-index:10;
	background-color:white;
	border:1px solid black;
}
#column label,#column li{
	padding:5px;
}
</style>
<script type="text/javascript">

$(document).ready(function() {
    // auslesen der Spalten und definieren der Checkboxen
    var alltr=jQuery('table tr');
    jQuery(alltr).each( function(index,value){
      var allth=jQuery(this).find('th');
      var container2 = "";
      $(allth).each(function(cindex,value){
         container2 += '<li><input id="checkbox_'+index+'_'+cindex+'" type="checkbox" checked="checked" /><label for="checkbox_'+index+'_'+cindex+'" >'+$(this).text()+'</label></li>';
         $('#column ul').html(container2);
		 $('#column ul li:last-child').css('display','none')
      });
    });
    // ein und ausblenden der Spalten
    var allCBox = $('#column ul li input');
    $(allCBox).each(function(cindex,value) {
        var pos = cindex+1;
        //console.log(cindex+1);
        $(this).click(function (){
            $('th:nth-child('+pos+')').toggle();
            $('td:nth-child('+pos+')').toggle();
        });
    });
	
	$('table th:last-child').bind('click',function(e){
		var _left = $(this).position().left;
		$('#column').animate({
			left:_left,
			top:$('table tr:eq(1) td:last-child').position().top,
		},0);
		$('#column').toggle();
		
		return false;
	});

	var timer;
	$('#column ul').bind('mouseout', function(){
		if(timer)
			clearTimeout(timer);
		timer = setTimeout("$('#column').toggle()",1000);
	});
	$('#column ul').bind('mouseover', function(){
		clearTimeout(timer);
	});

});

</script>    
 <a id="top-of-page"></a>
        <div id="wrap" class="clearfix">
         
            <div class="col_12">

<div id="column" style="display:none">
	<ul class="menu vertical">
	</ul>
</div>

<table border="1" class="sortable" id="benutzer-tabelle">
    <thead>
        <tr>
            <th>Name</th>
            <th>Preis</th>
            <th>Einheit</th>
            <th>Beschreibung</th>
            <th style="width:112px;"><span class="icon darkgray" data-icon="Z"></span></th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>Artikel 1</td>
            <td>100.00</td>
            <td>Tag</td>
            <td>leer</td>
            <td>edit2</td>
        </tr>
        <tr>
            <td>Artikel 2</td>
            <td>100.00</td>
            <td>Tag</td>
            <td>leer</td>
            <td>edit</td>
        </tr>
        <tr>
            <td>Artikel 3</td>
            <td>100.00</td>
            <td>Tag</td>
            <td>leer</td>
            <td>edit</td>
        </tr>
        <tr>
            <td>Artikel 4</td>
            <td>100.00</td>
            <td>Tag</td>
            <td>leer</td>
            <td>edit</td>
        </tr>
        <tr>
            <td>Artikel 5</td>
            <td>100.00</td>
            <td>Tag</td>
            <td>leer</td>
            <td>edit</td>
        </tr>
    </tbody>
</table>
</div>
            <!-- ===================================== START FOOTER ===================================== -->
            <div class="clear"></div>
            <div id="footer">
                &copy; Copyright 2012 Verein zur Qualitäts-Controlle am Bau e.V. Diese WebApp wurde von <a href="http://www.scitotec.com">Scitotec GmbH</a> erstellt.
                <a id="link-top" href="#top-of-page">Top</a>
            </div>
        </div><!-- END WRAP -->
    </body>
</html>